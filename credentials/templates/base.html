{# Base template for edX-specific pages. #}

{% load html %}
{% load fec %}
{% load i18n %}
{% load statici18n %}
{% load render_bundle from webpack_loader %}

<!DOCTYPE html>
{% with render_language|default:"en" as page_language %}
{% language page_language %}
<html lang="{{page_language}}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{% endblock title %}</title>

  <link rel="icon" type="image/x-icon" href="/favicon.ico" />

  {% if LANGUAGE_BIDI %}
    {% render_bundle 'base.style-rtl' 'css' %}
  {% else %}
    {% render_bundle 'base.style-ltr' 'css' %}
  {% endif %}

  <script src="{% statici18n page_language %}"></script>

  {# Hook for credentials themes to overwrite. #}
  {% block theme_meta %}
  {% endblock %}

  {% block stylesheets %}
  {% endblock %}

  <script type="application/json" id="edt-page-metadata">
    {{ enhenced_theme|escape_json }}
  </script>

  <link href="{{ 'edutechheader.css'|fec_url }}" rel="stylesheet">
  <link href="{{ 'edutechfooter.css'|fec_url }}" rel="stylesheet">
</head>
<body>
{% block content %}
  <div class="wrapper-view" dir="{% if LANGUAGE_BIDI %}rtl{% else %}ltr{% endif %}">
    <a class="nav-skip sr-only sr-only-focusable" href="#main-content">{% trans "Skip to main content" %}</a>

    <div id="edt-header"></div>

    {% block wrapper_content %}
    {% endblock wrapper_content %}

    <div id="edt-footer"></div>
  </div>
{% endblock content %}

<script type="application/javascript">
    window.edx = {};
</script>

{% include '_analytics.html' %}

{% block javascript %}{% endblock %}

<script src="{{ 'edutechheader.min.js'|fec_url }}"></script>
<script src="{{ 'edutechfooter.min.js'|fec_url }}"></script>

</body>
</html>
{% endlanguage %}
{% endwith %}
